<!doctype html>
<html lang="en">
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!--JQuery-->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
  <!--Bootstrap/CSS Import-->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
  </script>
  <link rel="stylesheet" href="create.css" class="rel">
  <!--Fonts-->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Covered+By+Your+Grace&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800&display=swap"
    rel="stylesheet">
  <!--Tab Title-->
  <title>Create Together</title>
</head>

<body>
  <!--NAVBAR-->
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark shadow-sm"
    style="background-color: #88D18A; padding: 1.2em 2em;">
    <a class="navbar-brand" href="index.html"><img src="img/LogoWhite_Small.png" style="height: 60px; width: auto;"></a>
    </button>
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="act.html">Act<span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="create.html">Create</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="inspire.html">Inspire</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="about.html">About</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="contact.html">Contact</a>
      </li>
    </ul>
  </nav>

  <div class="container-flex position-fixed d-block">
    <div class="row">
      <div class="col-8"></div>
      <div class="col">
        <div class="circle-container">
          <!--Upload-->
          <div class="circle"><i class="material-icons" style="font-size:30px; color: #fff;">add</i></div>
          <!--Filters-->
          <div class="circle"><i class="material-icons" style="font-size:25px; color: #fff;">search</i></div>
          <!--Scroll to Top Script-->
          <div class="circle"><i class="material-icons" style="color: #fff;">arrow_upward</i></div>

        </div>
      </div>
    </div>
  </div>

  <!-- NOTE: Grid Layout -->
  <div id="grid" class="container" style="margin-top: 200px; margin-bottom: 150px;">
    <!-- Stack the columns on mobile by making one full-width and the other half-width -->
    <!-- <div class="row">
      <div class="col-6 col-md-8">
        <img src="img/helper.jpg" class="img-fluid">
      </div>
      <div class="col-6 col-md-4">
        <img src="img/helper.jpg" class="img-fluid">
      </div> -->

    <!-- Columns start at 50% wide on mobile and bump up to 33.3% wide on desktop -->
    <!-- <div class="row">
      <div class="col-6 col-md-4">
        <img src="img/helper.jpg" class="img-fluid">
        <div class="caption text-center">Title by Author here</div>
      </div>
      <div class="col-6 col-md-4">
        <img src="img/helper.jpg" class="img-fluid">
        <div class="caption text-center">Title by Author here</div>
      </div>
      <div class="col-6 col-md-4">
        <img src="img/helper.jpg" class="img-fluid">
        <div class="caption text-center">Title by Author here</div>
      </div>
    </div> -->

    <!-- Columns are always 50% wide, on mobile and desktop -->
    <!-- <div class="row">
      <div class="col-6">
        <div class="placeholder"></div>
      </div>
      <div class="col-6">
        <div class="placeholder"></div>
      </div>
    </div> -->
  </div>

  <!--FOOTER-->
  <div class="container-flex" style="background-color: #88D18A; height: 200px; overflow: hidden;">
    <div class="row" style="margin-top: 2%;">
      <div class="col-2"></div>
      <div class="col-2">
        <h6><b>Isolating Together</b></h6>
        <a href="act.html">
          <h6>Act</h6>
        </a>
        <a href="create.html">
          <h6>Create</h6>
        </a>
        <a href="inspire.html">
          <h6>Inspire</h6>
        </a>
      </div>
      <div class="col-2"></div>
      <div class="col-2">
        <a href="about.html">
          <h6>About</h6>
        </a>
        <a href="contact.html">
          <h6>Contact</h6>
        </a>
        <a href="#">
          <h6>Twitter</h6>
        </a>
        <a href="#">
          <h6>Instagram</h6>
        </a>
      </div>
      <div class="col-2"></div>
    </div>
  </div>


  <script>
    var container = document.getElementById("grid");
    var rows = container.children;

    //iterate through rows
    for (var i = 0; i < rows.length; i++) {
      //iterate through children (image placeholders)
      var row = rows[i];
      for (var x = 0; x < row.children.length; x++) {
        console.log("yo");
      }
    }
  </script>

  <script src="/__/firebase/7.14.4/firebase-app.js"></script>
  <script src="/__/firebase/7.14.4/firebase-auth.js"></script>
  <script src="/__/firebase/7.14.4/firebase-storage.js"></script>
  <script src="/__/firebase/init.js"></script>

  <script>
    //variables used in addImage
    var currLen = 0;
    var currRow;
    var container = document.getElementById("grid");

    //This function adds rows/images to grid as needed
    function addImage(url, captionText) {
      // Create new row if needed
      // TODO: This is hardcoded, not responsive
      if (currLen % 3 == 0) {
        var row = document.createElement("div")
        row.className = "row";
        container.appendChild(row);
        currRow = row;
      }

      // Create container for image
      var imgDiv = document.createElement("div");
      imgDiv.className = "col-6 col-md-4";

      // Create image
      var img = document.createElement("img");
      img.src = url;
      img.className = "img-fluid";
      imgDiv.appendChild(img);

      // Create image caption if exists
      if (captionText != null) {
        var caption = document.createElement("div");
        caption.className = "caption text-center";
        caption.innerText = captionText;
        imgDiv.appendChild(caption);
      }

      // Append div to current row
      currRow.appendChild(imgDiv);

      currLen++;
    }

    // This function is created using https://firebase.google.com/docs/storage/web/list-files
    function displayAll() {
      // Get a reference to the storage service, which is used to create references in your storage bucket
      var storage = firebase.storage();

      var auth = firebase.auth();
      var storageRef = firebase.storage().ref();
      // Creates a reference to directory containing user's images
      var listRef = storageRef.child('images');

      // This lists all images in referenced directory
      listRef.listAll().then(function (res) {
        var urlList = [];

        // Add each image's url to a list
        res.items.forEach(function (artistRef) {
          artistRef
          itemRef.getDownloadURL().then(function (url) {
            // Add image 1-by-1 to image grid
            addImage(url);
          });
        });
      }).catch(function (error) {
        console.log(error.message);
      });
    }

    window.onload = function () {
      //displayAll();
      for (var i = 0; i < 9; i++) {
        addImage("img/helper.jpg", "Title by Author here");
      }
    }
  </script>
</body>

</html>